package com.expense;

import java.math.BigDecimal;
import java.time.LocalDate;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;
import org.springframework.boot.test.context.SpringBootTest;

import com.expense.entity.Expense;
import com.expense.repository.ExpenseRepository;

import jakarta.transaction.Transactional;

@SpringBootTest
@Transactional
class ExpenseServiceApplicationTests {


    @Autowired
    private ExpenseRepository expenseRepository;

    @Autowired
    private TestEntityManager entityManager;

    // Helper method to create test expenses
    private Expense createExpense(Long userId, String category, BigDecimal amount, LocalDate date) {
        Expense expense = new Expense();
        expense.setUserId(userId);
        expense.setCategory(category);
        expense.setAmount(amount);
        expense.setDate(date);
        return entityManager.persist(expense);
    }
}
